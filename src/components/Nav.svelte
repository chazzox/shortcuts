<script>
	import Cookies from 'js-cookie';
	import { validation } from './utils/validation.svelte';

	let searchString = '';

	const search = () => {
		if (validation.isURL([searchString])) {
			window.location.href = searchString;
		} else {
			window.location.href = 'https://www.google.com/search?q=' + encodeURIComponent(searchString);
		}
	};
</script>

<!-- svelte-ignore a11y-autofocus -->
<style lang="scss">
	#navbarContainer {
		width: 100%;
		display: flex;
		justify-content: center;
		#navbar {
			padding: 0;
			color: black;

			width: 90%;
			background-color: #070707;
			border-radius: 0px 0px 10px 10px;
			box-shadow: var(--pretty-box-shadow-dark);
			display: flex;
			justify-content: space-between;
			align-items: center;

			#searchBar {
				font-size: 15px;
				width: 70%;
				background-color: var(--background-major);
				color: var(--light-font-color);
				border-radius: 10px;
				border: none;
				padding: 5px 10px;
				&:focus {
					outline: none;
				}
			}
			a {
				text-decoration: none;
				color: var(--light-font-color);
				margin: 10px;
				font-size: 25px;
			}
			.nav-item {
				&.icon {
					margin: 10px;
					width: 30px;
					height: 30px;
					border-radius: 10px;

					svg {
						fill: var(--svg-col-prim);
					}
					&:hover {
						background-color: var(--background-major-inv);

						svg {
							fill: var(--svg-col-secon);
						}
					}
				}
			}
		}
	}
</style>

<main id="navbarContainer">
	<main id="navbar">
		<a href="#/" class="nav-item title left">Shortcuts</a>
		<input
			class="nav-item"
			id="searchBar"
			type="text"
			bind:value={searchString}
			on:keypress={(e) => {
				if (e.key === 'Enter') {
					search();
				}
			}}
			autofocus />
		<button
			class="nav-item"
			on:click={() => Object.keys(Cookies.get()).forEach(function (cookieName) {
					Cookies.remove(cookieName);
				})}>clear</button>
		<a href="#/settings/" class="nav-item icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><path
					d="M29.563 2C28.18 2 26.984 2.934 26.652 4.273L24.922 11.164C24.043 11.465 23.156 11.836 22.281 12.277L16.176 8.609C14.992 7.902 13.488 8.09 12.512 9.063L9.063 12.512C8.086 13.484 7.902 14.992 8.609 16.176L12.27 22.281C11.84 23.148 11.469 24.039 11.172 24.926L4.273 26.652C2.934 26.984 2 28.184 2 29.563L2 34.438C2 35.82 2.934 37.016 4.273 37.348L11.164 39.078C11.465 39.961 11.84 40.852 12.277 41.719L8.609 47.824C7.902 49.008 8.086 50.512 9.063 51.488L12.512 54.938C13.488 55.914 14.992 56.098 16.176 55.391L22.281 51.73C23.156 52.164 24.047 52.535 24.926 52.828L26.652 59.73C26.984 61.066 28.184 62 29.563 62L34.438 62C35.82 62 37.016 61.066 37.348 59.73L39.078 52.836C39.957 52.535 40.844 52.164 41.719 51.723L47.824 55.391C49.008 56.098 50.512 55.91 51.488 54.938L54.938 51.488C55.914 50.516 56.098 49.008 55.391 47.824L51.73 41.719C52.16 40.852 52.531 39.961 52.828 39.074L59.727 37.348C61.066 37.016 62 35.816 62 34.438L62 29.563C62 28.184 61.066 26.984 59.73 26.652L52.836 24.922C52.535 24.039 52.16 23.148 51.723 22.281L55.391 16.176C56.098 14.992 55.914 13.488 54.938 12.512L51.488 9.063C50.512 8.086 49.008 7.902 47.824 8.609L41.719 12.27C40.844 11.836 39.953 11.465 39.074 11.172L37.348 4.273C37.016 2.934 35.816 2 34.438 2ZM29.563 4L34.438 4C34.898 4 35.297 4.313 35.406 4.758L37.133 11.656C37.297 12.309 37.781 12.836 38.434 13.059 39.227 13.328 40.031 13.668 40.828 14.063 41.445 14.371 42.16 14.34 42.746 13.988L48.855 10.328C49.25 10.09 49.75 10.152 50.074 10.477L53.523 13.922C53.848 14.25 53.91 14.754 53.672 15.145L50.012 21.25C49.66 21.836 49.633 22.555 49.938 23.172 50.332 23.961 50.668 24.766 50.941 25.566 51.164 26.215 51.691 26.703 52.344 26.863L59.238 28.59C59.688 28.703 60 29.102 60 29.563L60 34.438C60 34.898 59.688 35.297 59.242 35.406L52.344 37.133C51.691 37.297 51.164 37.781 50.941 38.434 50.672 39.234 50.332 40.039 49.938 40.828 49.633 41.445 49.66 42.16 50.012 42.746L53.676 48.855C53.91 49.246 53.848 49.75 53.527 50.074L50.078 53.523C49.75 53.848 49.246 53.91 48.855 53.672L42.75 50.012C42.164 49.66 41.445 49.633 40.828 49.938 40.035 50.332 39.23 50.668 38.434 50.941 37.785 51.164 37.297 51.691 37.137 52.344L35.41 59.238C35.297 59.688 34.898 60 34.438 60L29.563 60C29.102 60 28.703 59.688 28.594 59.242L26.867 52.344C26.703 51.691 26.219 51.164 25.566 50.941 24.773 50.672 23.969 50.332 23.172 49.938 22.887 49.797 22.578 49.727 22.273 49.727 21.918 49.727 21.566 49.82 21.254 50.012L15.145 53.672C14.754 53.91 14.25 53.848 13.926 53.523L10.477 50.078C10.152 49.75 10.09 49.246 10.328 48.855L13.988 42.75C14.34 42.164 14.367 41.445 14.063 40.828 13.668 40.039 13.332 39.234 13.059 38.434 12.836 37.785 12.309 37.297 11.656 37.137L4.758 35.41C4.313 35.297 4 34.898 4 34.438L4 29.563C4 29.102 4.313 28.703 4.758 28.59L11.656 26.863C12.309 26.703 12.836 26.215 13.059 25.566 13.328 24.766 13.668 23.961 14.063 23.172 14.367 22.555 14.34 21.836 13.988 21.25L10.324 15.145C10.09 14.754 10.152 14.25 10.473 13.922L13.922 10.477C14.246 10.152 14.75 10.09 15.145 10.328L21.25 13.988C21.836 14.34 22.555 14.367 23.172 14.063 23.965 13.668 24.77 13.328 25.566 13.059 26.215 12.832 26.703 12.309 26.863 11.656L28.59 4.758C28.703 4.313 29.102 4 29.563 4ZM33.875 18.125C33.34 18.055 32.828 18.438 32.754 18.984 32.68 19.531 33.063 20.035 33.609 20.109 34.328 20.203 35.039 20.367 35.73 20.59 35.832 20.621 35.934 20.641 36.035 20.641 36.457 20.641 36.852 20.367 36.988 19.949 37.16 19.422 36.871 18.859 36.348 18.688 35.543 18.426 34.715 18.234 33.875 18.125ZM29.043 18.387C28.914 18.367 28.781 18.371 28.645 18.406 22.379 19.945 18 25.535 18 32 18 37.195 20.852 41.941 25.449 44.375 25.598 44.457 25.762 44.492 25.918 44.492 26.277 44.492 26.621 44.301 26.801 43.961 27.059 43.473 26.875 42.867 26.387 42.609 22.449 40.52 20 36.453 20 32 20 26.461 23.75 21.668 29.125 20.348 29.66 20.215 29.988 19.672 29.855 19.137 29.758 18.734 29.43 18.449 29.043 18.387ZM41.191 21.809C40.938 21.809 40.68 21.906 40.484 22.102L39.07 23.516C38.68 23.906 38.68 24.539 39.07 24.93 39.266 25.125 39.52 25.223 39.777 25.223 40.035 25.223 40.289 25.125 40.484 24.93L41.898 23.516C42.289 23.125 42.289 22.492 41.898 22.102 41.703 21.906 41.445 21.809 41.191 21.809ZM32 24C27.59 24 24 27.59 24 32 24 36.41 27.59 40 32 40 36.41 40 40 36.41 40 32 40 27.59 36.41 24 32 24ZM43.965 25.922C43.836 25.922 43.703 25.945 43.578 26L41.734 26.781C41.227 26.996 40.988 27.586 41.203 28.094 41.367 28.477 41.738 28.703 42.125 28.703 42.258 28.703 42.387 28.676 42.516 28.625L44.359 27.844C44.867 27.625 45.102 27.039 44.887 26.531 44.727 26.148 44.355 25.918 43.965 25.922ZM32 26C35.309 26 38 28.691 38 32 38 35.309 35.309 38 32 38 28.691 38 26 35.309 26 32 26 28.691 28.691 26 32 26ZM32 30C30.895 30 30 30.895 30 32 30 33.105 30.895 34 32 34 33.105 34 34 33.105 34 32 34 30.895 33.105 30 32 30ZM43 31C42.449 31 42 31.445 42 32 42 32.555 42.449 33 43 33L45 33C45.551 33 46 32.555 46 32 46 31.445 45.551 31 45 31ZM42.184 35.121C41.793 35.129 41.426 35.363 41.27 35.746 41.066 36.258 41.313 36.844 41.824 37.047L43.68 37.797C43.801 37.848 43.93 37.871 44.051 37.871 44.449 37.871 44.824 37.633 44.98 37.246 45.188 36.73 44.941 36.148 44.426 35.941L42.574 35.191C42.445 35.141 42.313 35.117 42.184 35.121ZM39.777 38.777C39.523 38.777 39.266 38.875 39.07 39.07 38.68 39.461 38.68 40.094 39.07 40.484L40.484 41.898C40.68 42.094 40.934 42.191 41.191 42.191 41.449 42.191 41.703 42.094 41.898 41.898 42.289 41.508 42.289 40.875 41.898 40.484L40.484 39.07C40.289 38.875 40.031 38.777 39.777 38.777ZM36.297 41.125C36.168 41.125 36.035 41.152 35.906 41.203 35.398 41.422 35.16 42.008 35.375 42.516L36.156 44.359C36.32 44.738 36.691 44.969 37.078 44.969 37.211 44.969 37.344 44.941 37.469 44.891 37.98 44.672 38.215 44.086 38 43.578L37.219 41.734C37.059 41.352 36.688 41.125 36.297 41.125ZM32 42C31.449 42 31 42.445 31 43L31 45C31 45.555 31.449 46 32 46 32.551 46 33 45.555 33 45L33 43C33 42.445 32.551 42 32 42Z" /></svg>
		</a>
	</main>
</main>
